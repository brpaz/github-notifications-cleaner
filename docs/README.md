<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# github\-notifications\-cleaner

```go
import "github.com/brpaz/github-notifications-cleaner"
```

Package main provides the entry point for the application. It is responsible for initializing the global dependencies and executing the root command.

## Index



# cmd

```go
import "github.com/brpaz/github-notifications-cleaner/cmd"
```

Package cmd contains the command definitions for the application.

## Index

- [func NewRootCmd\(\) \*cobra.Command](<#NewRootCmd>)


<a name="NewRootCmd"></a>
## func NewRootCmd

```go
func NewRootCmd() *cobra.Command
```

NewRootCmd returns a new instance of the root command for the application

# clean

```go
import "github.com/brpaz/github-notifications-cleaner/cmd/clean"
```

## Index

- [func NewCleanCmd\(\) \*cobra.Command](<#NewCleanCmd>)
- [type Cleaner](<#Cleaner>)


<a name="NewCleanCmd"></a>
## func NewCleanCmd

```go
func NewCleanCmd() *cobra.Command
```

NewCleanCmd creates a new instance of the clean command.

<a name="Cleaner"></a>
## type Cleaner

Cleaner defines the interface for the service that cleans up notifications.

```go
type Cleaner interface {
    Clean(ctx context.Context) error
}
```

# version

```go
import "github.com/brpaz/github-notifications-cleaner/cmd/version"
```

Package version provides the command definition for the version command.

## Index

- [Variables](<#variables>)
- [func NewCmd\(\) \*cobra.Command](<#NewCmd>)


## Variables

<a name="BuildDate"></a>

```go
var (
    BuildDate = "unknown"
    Version   = "dev"
    GitCommit = "unknown"
)
```

<a name="NewCmd"></a>
## func NewCmd

```go
func NewCmd() *cobra.Command
```

NewCmd creates a command that prints the version of the application.

# cleaner

```go
import "github.com/brpaz/github-notifications-cleaner/internal/cleaner"
```

## Index

- [Constants](<#constants>)
- [type Cleaner](<#Cleaner>)
- [type NotificationsCleaner](<#NotificationsCleaner>)
  - [func NewNotificationsCleaner\(opts ...Option\) \*NotificationsCleaner](<#NewNotificationsCleaner>)
  - [func \(nc \*NotificationsCleaner\) Clean\(ctx context.Context\) error](<#NotificationsCleaner.Clean>)
- [type Option](<#Option>)
  - [func WithDryRun\(dryRun bool\) Option](<#WithDryRun>)
  - [func WithGitHubClient\(client \*github.Client\) Option](<#WithGitHubClient>)
  - [func WithOlderThanDays\(days int\) Option](<#WithOlderThanDays>)


## Constants

<a name="TypeIssue"></a>

```go
const (
    TypeIssue             = "Issue"
    TypePullRequest       = "PullRequest"
    DefaultDaysThreshold = 15
)
```

<a name="Cleaner"></a>
## type Cleaner

Cleaner defines the interface for cleaning notifications.

```go
type Cleaner interface {
    Clean(ctx context.Context) error
}
```

<a name="NotificationsCleaner"></a>
## type NotificationsCleaner

NotificationsCleaner defines the cleaner struct.

```go
type NotificationsCleaner struct {
    GitHubClient  *github.Client
    OlderThanDays int
    DryRun        bool
}
```

<a name="NewNotificationsCleaner"></a>
### func NewNotificationsCleaner

```go
func NewNotificationsCleaner(opts ...Option) *NotificationsCleaner
```

NewNotificationsCleaner creates a new NotificationsCleaner instance with the provided options. It initializes with a default GitHubClient.

<a name="NotificationsCleaner.Clean"></a>
### func \(\*NotificationsCleaner\) Clean

```go
func (nc *NotificationsCleaner) Clean(ctx context.Context) error
```

Clean performs cleaning notifications. It marks notifications as done if they are related to closed pull requests/issues or if they are older than the configured number of days.

<a name="Option"></a>
## type Option

Option defines a functional option for NotificationsCleaner.

```go
type Option func(*NotificationsCleaner)
```

<a name="WithDryRun"></a>
### func WithDryRun

```go
func WithDryRun(dryRun bool) Option
```

WithDryRun is an option to enable dry\-run mode.

<a name="WithGitHubClient"></a>
### func WithGitHubClient

```go
func WithGitHubClient(client *github.Client) Option
```

WithGitHubClient is an option to set a custom GitHub client.

<a name="WithOlderThanDays"></a>
### func WithOlderThanDays

```go
func WithOlderThanDays(days int) Option
```

WithOlderThanDays is an option to set the age threshold \(in days\) for cleaning notifications.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
